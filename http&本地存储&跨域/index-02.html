<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>promise</title>
</head>
<body>

    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.1.min.js"></script>
<script>

    function formatterDateTime() {
        var date=new Date();
        var month=date.getMonth() + 1;
        var datetime = date.getFullYear()
            + ""// "年"
            + (month >= 10 ? month : "0"+ month)
            + ""// "月"
            + (date.getDate() < 10 ? "0" + date.getDate() : date
                .getDate())
            + ""
            + (date.getHours() < 10 ? "0" + date.getHours() : date
                .getHours())
            + ""
            + (date.getMinutes() < 10 ? "0" + date.getMinutes() : date
                .getMinutes())
            + ""
            + (date.getSeconds() < 10 ? "0" + date.getSeconds() : date
                .getSeconds());
        return datetime;
    }
    
    // 使用ajax实现一个post方式的请求
    // 请求方式、参数（请求体）、处理数据的形式、请求失败方法、请求成功的方法
    $.ajax({
        type: 'post',
        url: 'http://route.showapi.com/1821-1',
        dataType: 'json',
        data: {
            "showapi_timestamp": formatterDateTime(),
            "showapi_appid": 'just_test_app', //这里需要改成自己的appid
            "showapi_sign": 'just_test_sign',  //这里需要改成自己的应用的密钥secret
        },

        error: function(XmlHttpRequest, textStatus, errorThrown) {
            alert("操作失败!");
        },
        success: function(result) {
            console.log(result) //console变量在ie低版本下不能用
           // alert(result.showapi_res_code)
        }
    });
</script>
</body>
</html>